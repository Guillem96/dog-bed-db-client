<div class="grid-container">
  <mat-card class="card list-tasks">
    <mat-card-header class="header">
      <div>
        <h1 class="title">My Tasks</h1><br>
        <h4 class="date">{{today | date:'fullDate'}}</h4>
      </div>
    </mat-card-header>
    <mat-card-content>
      <mat-list>
        <div *ngFor="let t of user.tasks; let i = index">
          <app-task (taskStatus)="udateTask($event, i)" [task]="t"></app-task>
          <mat-divider></mat-divider>
        </div>
      </mat-list>

    </mat-card-content>
  </mat-card>

  <mat-card class="card tasks-adder">
    <mat-card-header class="header">
      <div>
        <h1 class="title">Add task</h1><br>
      </div>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="addTaskForm" class="form-container" novalidate>
        <mat-form-field>
          <input matInput placeholder="Task" name="name" formControlName="name">
        </mat-form-field>
        <mat-error *ngIf="addTaskForm.controls.name.invalid && (addTaskForm.controls.name.dirty || addTaskForm.controls.name.touched)">
        </mat-error>
        <mat-form-field>
          <textarea matInput placeholder="Description" name="description" formControlName="description"></textarea>
        </mat-form-field>
        <mat-error *ngIf="addTaskForm.controls.description.invalid && (addTaskForm.controls.description.dirty || addTaskForm.controls.description.touched)">
        </mat-error>
        <mat-form-field style="margin-bottom: 1em">
          <input matInput placeholder="Tags" name="tags" formControlName="tags">
          <mat-hint>Example: University, Games...</mat-hint>
        </mat-form-field>
        <mat-error *ngIf="addTaskForm.controls.tags.invalid && (addTaskForm.controls.tags.dirty || addTaskForm.controls.tags.touched)">
        </mat-error>
        <mat-form-field>
          <input matInput formControlName="date" [matDatepicker]="picker" placeholder="Choose a date">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
        <mat-error *ngIf="addTaskForm.controls.date.invalid && (addTaskForm.controls.date.dirty || addTaskForm.controls.date.touched)">
        </mat-error>
        <button mat-button color="accent" (click)="submitTask()">Add task</button>
      </form>
    </mat-card-content>
  </mat-card>
</div>
